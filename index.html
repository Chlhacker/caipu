<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="theme-color" content="#f97316">
    <title>üç≥ Â¥îÂÆùÁöÑÂæ°ËÜ≥Êàø</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #fff7ed;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden; /* Èò≤Ê≠¢Ê®™ÂêëÊªöÂä®Êù° */
        }

        .app {
            width: 100%; /* Èì∫Êª°Êï¥‰∏™Â±èÂπïÂÆΩÂ∫¶ */
            height: 100vh; /* Âõ∫ÂÆöÈ´òÂ∫¶‰∏∫ËßÜÂè£È´òÂ∫¶ÔºåÈÅøÂÖçÊï¥‰ΩìÊªöÂä® */
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
        }

        /* Â§¥ÈÉ®ÂØºËà™ */
        .header {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .header-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .admin-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .admin-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: white;
        }

        .admin-btn.active {
            background: white;
            color: #f97316;
            border-color: white;
        }

        .nav {
            display: flex;
            gap: 0.75rem;
        }

        .nav-btn {
            padding: 0.5rem 1rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 0.5rem;
            background: transparent;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            position: relative;
        }

        .nav-btn.active {
            background: white;
            color: #f97316;
            border-color: white;
        }

        .badge {
            position: absolute;
            top: -0.5rem;
            right: -0.5rem;
            background: #ef4444;
            color: white;
            font-size: 0.7rem;
            padding: 0.15rem 0.4rem;
            border-radius: 1rem;
            min-width: 1.2rem;
            text-align: center;
        }

        /* ‰∏ªÂÜÖÂÆπÂå∫ */
        .main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Â∑¶‰æßÂàÜÁ±ªÂØºËà™ */
        .sidebar {
            width: 200px;
            background: #fff7ed;
            border-right: 2px solid #fed7aa;
            padding: 1rem 0;
            overflow-y: auto;
        }

        .sidebar-title {
            padding: 0 1rem;
            font-size: 0.875rem;
            color: #9a3412;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .category-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            color: #7c2d12;
        }

        .category-item:hover {
            background: #ffedd5;
        }

        .category-item.active {
            background: #fed7aa;
            border-left-color: #f97316;
            color: #ea580c;
            font-weight: 600;
        }

        .category-count {
            float: right;
            background: #f97316;
            color: white;
            font-size: 0.75rem;
            padding: 0.15rem 0.5rem;
            border-radius: 1rem;
            min-width: 1.5rem;
            text-align: center;
        }

        .cart-item {
            border: 1px solid #ffedd5;
        }

        /* Âè≥‰æßÂÜÖÂÆπÂå∫ */
        .content {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
        }

        /* ÁßªÂä®Á´ØÈÄÇÈÖç */
        @media (max-width: 768px) {
            .sidebar {
                width: 80px; /* Áº©Â∞è‰æßËæπÊ†èÂÆΩÂ∫¶ */
                padding: 0.5rem 0;
            }

            .sidebar-title {
                font-size: 0.7rem;
                padding: 0 0.5rem;
                margin-bottom: 0.5rem;
            }

            .category-item {
                padding: 0.5rem 0.25rem;
                font-size: 0.7rem;
                text-align: center;
                word-break: break-all;
            }

            .category-count {
                font-size: 0.6rem;
                padding: 0.1rem 0.3rem;
                float: none;
                display: block;
                margin: 0.2rem auto 0;
                width: fit-content;
            }

            .content {
                padding: 0.75rem;
            }

            /* Â∫ïÈÉ®Ë¥≠Áâ©ËΩ¶Ê†èÈÄÇÈÖç */
            .float-cart-bar {
                left: 80px; /* ‰∏éÁßªÂä®Á´Ø‰æßËæπÊ†èÂÆΩÂ∫¶ÂØπÈΩê */
            }

            .cart-drawer {
                left: 80px; /* ‰∏éÁßªÂä®Á´Ø‰æßËæπÊ†èÂÆΩÂ∫¶ÂØπÈΩê */
            }
        }



        /* Ê∑ªÂä†ÊåâÈíÆ */
        .add-btn {
            width: 100%;
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
            margin-bottom: 1rem;
            transition: transform 0.2s;
        }

        .add-btn:active {
            transform: scale(0.98);
        }

        /* Ë°®ÂçïÂç°Áâá */
        .form-card {
            background: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.1);
            border: 1px solid #fed7aa;
            margin-bottom: 1rem;
        }

        .form-card h3 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #1f2937;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-size: 0.9rem;
            color: #374151;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #f97316;
        }

        /* ÂõæÁâá‰∏ä‰º† */
        .image-upload {
            position: relative;
            width: 100%;
            height: 200px;
            border: 2px dashed #fed7aa;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            background: #fff7ed;
        }

        .image-upload:hover {
            border-color: #f97316;
            background: #ffedd5;
        }

        .image-upload input {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .image-upload-placeholder {
            text-align: center;
            color: #9a3412;
        }

        .image-upload-placeholder-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0.5rem;
        }

        .image-remove {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: #ef4444;
            color: white;
            border: none;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .submit-btn {
            width: 100%;
            background: #f97316;
            color: white;
            border: none;
            padding: 0.875rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .submit-btn:active {
            background: #ea580c;
        }

        /* ËèúÂìÅÂç°Áâá */
        .dish-card {
            background: white;
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.1);
            border: 1px solid #ffedd5;
            margin-bottom: 1rem;
            transition: all 0.2s;
            display: flex;
            gap: 1rem;
            position: relative;
            min-height: 140px;
        }

        .dish-card:hover {
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
            border-color: #fed7aa;
            transform: translateY(-2px);
        }

        .dish-image {
            width: 120px;
            height: 120px;
            object-fit: contain;
            border-radius: 0.75rem;
            background-color: #fff7ed;
            flex-shrink: 0;
        }

        .dish-image-placeholder {
            width: 120px;
            height: 120px;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #fed7aa;
            flex-shrink: 0;
        }

        .dish-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
            padding-right: 3rem;
        }

        .dish-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 0.5rem;
        }

        .tag {
            font-size: 0.75rem;
            padding: 0.25rem 0.625rem;
            border-radius: 1rem;
            background: #ffedd5;
            color: #9a3412;
        }

        .tag-difficulty {
            background: #fed7aa;
            color: #7c2d12;
            font-weight: 600;
        }

        .tag-difficulty.easy {
            background: #d1fae5;
            color: #065f46;
        }

        .tag-difficulty.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .tag-difficulty.hard {
            background: #fecaca;
            color: #991b1b;
        }

        .tag-category {
            background: #fef3c7;
            color: #92400e;
        }

        .dish-steps {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.6;
            margin-top: auto;
            white-space: pre-line;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            transition: all 0.3s;
        }

        .dish-steps.expanded {
            -webkit-line-clamp: unset;
            display: block;
        }

        .dish-expand-hint {
            color: #f97316;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            cursor: pointer;
            user-select: none;
        }

        .dish-expand-hint:hover {
            text-decoration: underline;
        }

        /* Êï∞ÈáèÊéßÂà∂ */
        .dish-quantity-control {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
        }

        .dish-add-btn {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border: none;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: 300;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.4);
        }

        .dish-add-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.5);
        }

        .dish-add-btn:active {
            transform: scale(0.95);
        }

        .dish-quantity-display {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            border: 2px solid #f97316;
            border-radius: 2rem;
            padding: 0.25rem;
        }

        .dish-qty-btn {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border: none;
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 50%;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .dish-qty-btn:hover {
            transform: scale(1.1);
        }

        .dish-qty-btn:active {
            transform: scale(0.9);
        }

        .dish-quantity-num {
            font-size: 1rem;
            font-weight: 600;
            color: #f97316;
            min-width: 1.5rem;
            text-align: center;
        }

        /* Á©∫Áä∂ÊÄÅ */
        .empty {
            text-align: center;
            padding: 3rem 1rem;
            color: #9ca3af;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Ë¥≠Áâ©ËΩ¶ */
        .cart-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #1f2937;
        }

        .cart-item {
            background: white;
            padding: 1.25rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.1);
            border: 1px solid #ffedd5;
            margin-bottom: 1rem;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .item-name {
            font-size: 1.05rem;
            font-weight: 600;
            color: #1f2937;
        }

        .remove-btn {
            background: none;
            border: none;
            color: #ef4444;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            width: 2rem;
            height: 2rem;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-label {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .quantity-buttons {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .qty-btn {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            border: none;
            background: #e5e7eb;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .qty-btn:active {
            background: #d1d5db;
        }

        .quantity {
            font-weight: 600;
            min-width: 2rem;
            text-align: center;
        }

        .total-card {
            background: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-top: 1.5rem;
        }

        .total-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .total-label {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
        }

        .total-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #f97316;
        }

        .order-btn {
            width: 100%;
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
        }

        .order-btn:active {
            transform: scale(0.98);
        }

        /* ÈöêËóèÁ±ª */
        .hidden {
            display: none;
        }

        /* Â∫ïÈÉ®ÊµÆÂä®Ë¥≠Áâ©ËΩ¶Ê†è */
        .float-cart-bar {
            position: fixed;
            bottom: 0;
            left: 200px; /* ‰∏éÂ∑¶‰æßËæπÊ†èÂØπÈΩê */
            right: 0; /* Âç†Êª°Âè≥‰æßÂÜÖÂÆπÂå∫Âüü */
            height: 60px;
            background: white;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 200;
            border-top: 2px solid #fed7aa;
        }

        .cart-icon-btn {
            position: relative;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
            transition: transform 0.2s;
        }

        .cart-icon-btn:active {
            transform: scale(0.95);
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            font-size: 0.75rem;
            padding: 0.2rem 0.5rem;
            border-radius: 1rem;
            min-width: 1.5rem;
            text-align: center;
            font-weight: 600;
        }

        .cart-info {
            flex: 1;
            margin: 0 1rem;
            color: #1f2937;
        }

        .cart-total-text {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .cart-total-amount {
            font-size: 1.25rem;
            font-weight: 700;
            color: #f97316;
        }

        .checkout-btn {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
            transition: all 0.2s;
        }

        .checkout-btn:active {
            transform: scale(0.95);
        }

        .checkout-btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Ë¥≠Áâ©ËΩ¶ÊäΩÂ±â */
        .cart-drawer-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 300;
            display: none;
            animation: fadeIn 0.3s;
        }

        .cart-drawer-overlay.show {
            display: block;
        }

        .cart-drawer {
            position: fixed;
            bottom: 0;
            left: 200px; /* ‰∏éÂ∫ïÈÉ®Ë¥≠Áâ©ËΩ¶Ê†èÂØπÈΩê */
            right: 0;
            transform: translateY(100%);
            max-height: 70vh;
            background: white;
            border-radius: 1rem 1rem 0 0;
            padding: 1.5rem;
            z-index: 301;
            transition: transform 0.3s ease-out;
            overflow-y: auto;
        }

        .cart-drawer.show {
            transform: translateY(0);
        }

        .cart-drawer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #fed7aa;
        }

        .cart-drawer-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
        }

        .cart-drawer-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 2rem;
            height: 2rem;
        }

        .cart-drawer-item {
            display: flex;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .cart-drawer-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 0.5rem;
            margin-right: 1rem;
            background: #fff7ed;
        }

        .cart-drawer-item-placeholder {
            width: 60px;
            height: 60px;
            border-radius: 0.5rem;
            margin-right: 1rem;
            background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #fed7aa;
        }

        .cart-drawer-item-info {
            flex: 1;
        }

        .cart-drawer-item-name {
            font-size: 1rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .cart-drawer-item-category {
            font-size: 0.75rem;
            color: #92400e;
            background: #fef3c7;
            padding: 0.15rem 0.5rem;
            border-radius: 0.5rem;
            display: inline-block;
        }

        .cart-drawer-item-controls {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .cart-drawer-qty-btn {
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 50%;
            border: none;
            background: #fed7aa;
            color: #7c2d12;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .cart-drawer-qty-btn:active {
            background: #fdba74;
        }

        .cart-drawer-quantity {
            font-weight: 600;
            min-width: 2rem;
            text-align: center;
            color: #1f2937;
        }

        .cart-drawer-empty {
            text-align: center;
            padding: 3rem 1rem;
            color: #9ca3af;
        }

        .cart-drawer-empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* Ë∞ÉÊï¥‰∏ªÂÜÖÂÆπÂå∫Â∫ïÈÉ®ËæπË∑ùÔºåÈÅøÂÖçË¢´Ë¥≠Áâ©ËΩ¶Ê†èÈÅÆÊå° */
        .content {
            padding-bottom: 80px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ÁÆ°ÁêÜÂºπÁ™ó */
        .admin-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 400;
            display: none;
            animation: fadeIn 0.3s;
        }

        .admin-modal-overlay.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-modal {
            background: white;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease-out;
        }

        .admin-modal-header {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem 1rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .admin-modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .admin-modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .admin-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .admin-modal-body {
            padding: 1.5rem;
        }

        .admin-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #fed7aa;
        }

        .admin-tab {
            padding: 0.75rem 1.5rem;
            border: none;
            background: transparent;
            color: #6b7280;
            cursor: pointer;
            font-size: 1rem;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .admin-tab.active {
            color: #f97316;
            border-bottom-color: #f97316;
            font-weight: 600;
        }

        .admin-tab-content {
            display: none;
        }

        .admin-tab-content.active {
            display: block;
        }

        .admin-dish-list {
            display: grid;
            gap: 1rem;
        }

        .admin-dish-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: #fff7ed;
            border-radius: 0.75rem;
            border: 1px solid #fed7aa;
            gap: 1rem;
        }

        .admin-dish-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 0.5rem;
            flex-shrink: 0;
        }

        .admin-dish-placeholder {
            width: 80px;
            height: 80px;
            border-radius: 0.5rem;
            background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #fed7aa;
            flex-shrink: 0;
        }

        .admin-dish-info {
            flex: 1;
        }

        .admin-dish-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .admin-dish-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .admin-dish-actions {
            display: flex;
            gap: 0.5rem;
        }

        .admin-action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .admin-edit-btn {
            background: #dbeafe;
            color: #1e40af;
        }

        .admin-edit-btn:hover {
            background: #bfdbfe;
        }

        .admin-delete-btn {
            background: #fee2e2;
            color: #dc2626;
        }

        .admin-delete-btn:hover {
            background: #fecaca;
        }

        .admin-edit-form {
            background: #eff6ff;
            border: 2px solid #bfdbfe;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .admin-edit-form-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 1rem;
        }

        .admin-form-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
            margin-top: 1rem;
        }

        .admin-save-btn {
            background: #10b981;
            color: white;
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .admin-save-btn:hover {
            background: #059669;
        }

        .admin-cancel-btn {
            background: #e5e7eb;
            color: #4b5563;
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .admin-cancel-btn:hover {
            background: #d1d5db;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* ËÆ¢ÂçïÂºπÁ™ó */
        .order-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 400;
            display: none;
            animation: fadeIn 0.3s;
        }

        .order-modal-overlay.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .order-modal {
            background: white;
            border-radius: 1rem;
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease-out;
        }

        .order-modal-header {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem 1rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .order-modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .order-modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .order-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .order-modal-body {
            padding: 1.5rem;
        }

        .order-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .order-card {
            background: white;
            border: 2px solid #ffedd5;
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.2s;
        }

        .order-card:hover {
            border-color: #fed7aa;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.15);
        }

        .order-card.completed {
            background: #f9fafb;
            border-color: #e5e7eb;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #fed7aa;
        }

        .order-info {
            flex: 1;
        }

        .order-id {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }

        .order-time {
            font-size: 0.875rem;
            color: #9ca3af;
        }

        .order-status {
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .order-status.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .order-status.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .order-items {
            margin-bottom: 1rem;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            color: #4b5563;
        }

        .order-item-name {
            font-weight: 500;
        }

        .order-item-quantity {
            color: #f97316;
            font-weight: 600;
        }

        .order-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 2px solid #fed7aa;
            margin-bottom: 1rem;
        }

        .order-total-label {
            font-size: 1rem;
            font-weight: 600;
            color: #1f2937;
        }

        .order-total-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: #f97316;
        }

        .order-actions {
            display: flex;
            gap: 0.75rem;
            justify-content: flex-end;
        }

        .order-action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .order-complete-btn {
            background: #d1fae5;
            color: #065f46;
        }

        .order-complete-btn:hover {
            background: #a7f3d0;
        }

        .order-delete-btn {
            background: #fee2e2;
            color: #dc2626;
        }

        .order-delete-btn:hover {
            background: #fecaca;
        }

        .order-empty {
            text-align: center;
            padding: 4rem 2rem;
            color: #9ca3af;
        }

        .order-empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* ÂøÉÊÑøÂ¢ôÂºπÁ™ó */
        .wish-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 400;
            display: none;
            animation: fadeIn 0.3s;
        }

        .wish-modal-overlay.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wish-modal {
            background: white;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease-out;
        }

        .wish-modal-header {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem 1rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .wish-modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .wish-modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .wish-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .wish-modal-body {
            padding: 1.5rem;
        }

        .wish-add-form {
            background: #fef3c7;
            padding: 1.5rem;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            border: 2px solid #fde68a;
        }

        .wish-add-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #92400e;
            margin-bottom: 1rem;
        }

        .wish-input-group {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .wish-input {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid #fde68a;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .wish-input:focus {
            outline: none;
            border-color: #fbbf24;
        }

        .wish-add-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 2px 8px rgba(251, 191, 36, 0.3);
        }

        .wish-add-btn:active {
            transform: scale(0.98);
        }

        .wish-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .wish-card {
            background: white;
            border: 2px solid #fde68a;
            border-radius: 1rem;
            padding: 1.25rem;
            transition: all 0.2s;
            position: relative;
        }

        .wish-card:hover {
            border-color: #fbbf24;
            box-shadow: 0 2px 8px rgba(251, 191, 36, 0.2);
        }

        .wish-card.completed {
            background: #f9fafb;
            border-color: #e5e7eb;
        }

        .wish-card.added {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }

        .wish-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .wish-info {
            flex: 1;
        }

        .wish-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .wish-note {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .wish-status {
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .wish-status.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .wish-status.added {
            background: #d1fae5;
            color: #065f46;
        }

        .wish-status.learning {
            background: #dbeafe;
            color: #1e40af;
        }

        .wish-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .wish-action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .wish-learning-btn {
            background: #dbeafe;
            color: #1e40af;
        }

        .wish-learning-btn:hover {
            background: #bfdbfe;
        }

        .wish-added-btn {
            background: #d1fae5;
            color: #065f46;
        }

        .wish-added-btn:hover {
            background: #a7f3d0;
        }

        .wish-delete-btn {
            background: #fee2e2;
            color: #dc2626;
        }

        .wish-delete-btn:hover {
            background: #fecaca;
        }

        .wish-empty {
            text-align: center;
            padding: 4rem 2rem;
            color: #9ca3af;
        }

        .wish-empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* Êï∞ÊçÆÁÆ°ÁêÜÂºπÁ™ó */
        .data-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 400;
            display: none;
            animation: fadeIn 0.3s;
        }

        .data-modal-overlay.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .data-modal {
            background: white;
            border-radius: 1rem;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease-out;
        }

        .data-modal-header {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem 1rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .data-modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .data-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .data-modal-body {
            padding: 1.5rem;
        }

        .data-section {
            background: #f9fafb;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 2px solid #e5e7eb;
        }

        .data-section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .data-section-desc {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .data-action-btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .data-export-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .data-export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .data-import-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        .data-import-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .data-clear-btn {
            background: #fee2e2;
            color: #dc2626;
        }

        .data-clear-btn:hover {
            background: #fecaca;
        }

        .data-info {
            background: #eff6ff;
            border: 2px solid #dbeafe;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .data-info-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 0.5rem;
        }

        .data-info-item {
            color: #4b5563;
            font-size: 0.875rem;
            padding: 0.25rem 0;
            display: flex;
            justify-content: space-between;
        }

        .data-info-value {
            font-weight: 600;
            color: #8b5cf6;
        }

        .file-input-hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app" class="app">
        <header class="header">
            <div class="header-content">
                <h1 class="header-title">üç≥ Â¥îÂÆùÁöÑÂæ°ËÜ≥Êàø</h1>
                <div class="header-buttons">
                    <button class="admin-btn" @click="openWishModal">
                        üíõ ÂøÉÊÑøÂ¢ô
                    </button>
                    <button class="admin-btn" @click="openOrderModal">
                        üìã ËÆ¢Âçï
                    </button>
                    <button class="admin-btn" @click="openDataModal">
                        üíæ Êï∞ÊçÆ
                    </button>
                    <button class="admin-btn" @click="openAdminModal">
                        ‚öôÔ∏è ÁÆ°ÁêÜ
                    </button>
                </div>
            </div>
        </header>

        <main class="main">
            <!-- Â∑¶‰æßÂàÜÁ±ªÂØºËà™ -->
            <aside class="sidebar">
                <div class="sidebar-title">ËèúÂìÅÂàÜÁ±ª</div>
                <div 
                    v-for="cat in categories" 
                    :key="cat"
                    class="category-item"
                    :class="{active: currentCategory === cat}"
                    @click="currentCategory = cat"
                >
                    {{ cat }}
                    <span class="category-count">{{ getCategoryCount(cat) }}</span>
                </div>
            </aside>

            <!-- Âè≥‰æßÂÜÖÂÆπÂå∫ -->
            <div class="content">
            <!-- ËèúÂìÅÈ°µÈù¢ -->
            <div v-show="view === 'dishes'">
                <!-- ËèúÂìÅÂàóË°® -->
                <div v-if="filteredDishes.length === 0" class="empty">
                    <div class="empty-icon">üçΩÔ∏è</div>
                    <p>{{ currentCategory }}ÂàÜÁ±ª‰∏ãËøòÊ≤°ÊúâËèúÂìÅ<br>ÁÇπÂáªÂè≥‰∏äËßí‚ÄúÁÆ°ÁêÜ‚ÄùÊåâÈíÆÊ∑ªÂä†ÂêßÔºÅ</p>
                </div>

                <div v-for="dish in filteredDishes" :key="dish.id" class="dish-card">
                    <img v-if="dish.image" :src="dish.image" class="dish-image" :alt="dish.name">
                    <div v-else class="dish-image-placeholder">üç≤</div>
                    
                    <div class="dish-content">
                        <div class="dish-name">{{ dish.name }}</div>
                        <div class="tags">
                            <span class="tag tag-category">{{ dish.category }}</span>
                            <span v-for="tag in dish.tags" :key="tag" class="tag">{{ tag }}</span>
                            <span class="tag tag-difficulty" :class="getDifficultyClass(dish.difficulty)">{{ dish.difficulty }}</span>
                        </div>
                        <div v-if="dish.steps">
                            <div class="dish-steps" :class="{expanded: isDishExpanded(dish.id)}">{{ dish.steps }}</div>
                            <div v-if="isDishStepsTruncated(dish.steps)" class="dish-expand-hint" @click="toggleDishExpand(dish.id)">
                                {{ isDishExpanded(dish.id) ? 'Êî∂Ëµ∑ ‚ñ≤' : 'Â±ïÂºÄÊõ¥Â§ö ‚ñº' }}
                            </div>
                        </div>
                    </div>
                    
                    <div class="dish-quantity-control">
                        <button v-if="!getDishQuantity(dish.id)" class="dish-add-btn" @click="addToCart(dish)">
                            +
                        </button>
                        <div v-else class="dish-quantity-display">
                            <button class="dish-qty-btn" @click="decreaseDishQty(dish)">‚àí</button>
                            <span class="dish-quantity-num">{{ getDishQuantity(dish.id) }}</span>
                            <button class="dish-qty-btn" @click="increaseDishQty(dish)">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ë¥≠Áâ©ËΩ¶È°µÈù¢ -->
            <div v-show="view === 'cart'">
                <h2 class="cart-title">Ë¥≠Áâ©ËΩ¶</h2>

                <div v-if="cart.length === 0" class="empty">
                    <div class="empty-icon">üõí</div>
                    <p>Ë¥≠Áâ©ËΩ¶ÊòØÁ©∫ÁöÑ<br>ÂéªËèúÂìÅÈ°µÈù¢Ê∑ªÂä†ÊÉ≥ÂÅöÁöÑËèúÂêßÔºÅ</p>
                </div>

                <div v-else>
                    <div v-for="item in cart" :key="item.id" class="cart-item">
                        <img v-if="item.image" :src="item.image" class="dish-image" :alt="item.name">
                        <div v-else class="dish-image-placeholder">üç≤</div>
                        <div class="item-header">
                            <div>
                                <div class="item-name">{{ item.name }}</div>
                                <div class="tags">
                                    <span class="tag tag-category">{{ item.category }}</span>
                                    <span v-for="tag in item.tags" :key="tag" class="tag">{{ tag }}</span>
                                </div>
                            </div>
                            <button class="remove-btn" @click="removeFromCart(item.id)">‚úï</button>
                        </div>
                        <div class="quantity-control">
                            <span class="quantity-label">Êï∞Èáè:</span>
                            <div class="quantity-buttons">
                                <button class="qty-btn" @click="decreaseQty(item)">-</button>
                                <span class="quantity">{{ item.quantity }}</span>
                                <button class="qty-btn" @click="increaseQty(item)">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="total-card">
                        <div class="total-info">
                            <span class="total-label">ÊÄªËÆ°</span>
                            <span class="total-value">{{ totalItems }} ÈÅìËèú</span>
                        </div>
                        <button class="order-btn" @click="placeOrder">Á°ÆËÆ§‰∏ãÂçï</button>
                    </div>
                </div>
            </div>
            </div>
        </main>

        <!-- Â∫ïÈÉ®ÊµÆÂä®Ë¥≠Áâ©ËΩ¶Ê†è -->
        <div class="float-cart-bar" v-show="view === 'dishes'">
            <button class="cart-icon-btn" @click="toggleCartDrawer">
                üõí
                <span v-if="cartCount > 0" class="cart-badge">{{ cartCount }}</span>
            </button>
            
            <div class="cart-info" @click="toggleCartDrawer">
                <div class="cart-total-text">Â∑≤ÈÄâ</div>
                <div class="cart-total-amount">{{ totalItems }} ÈÅìËèú</div>
            </div>
            
            <button class="checkout-btn" :disabled="cart.length === 0" @click="placeOrder">
                Á°ÆËÆ§‰∏ãÂçï
            </button>
        </div>

        <!-- Ë¥≠Áâ©ËΩ¶ÊäΩÂ±â -->
        <div class="cart-drawer-overlay" :class="{show: showCartDrawer}" @click="closeCartDrawer"></div>
        <div class="cart-drawer" :class="{show: showCartDrawer}">
            <div class="cart-drawer-header">
                <div class="cart-drawer-title">Ë¥≠Áâ©ËΩ¶ ({{ cartCount }})</div>
                <button class="cart-drawer-close" @click="closeCartDrawer">‚úï</button>
            </div>
            
            <div v-if="cart.length === 0" class="cart-drawer-empty">
                <div class="cart-drawer-empty-icon">üõí</div>
                <p>Ë¥≠Áâ©ËΩ¶ÊòØÁ©∫ÁöÑ</p>
            </div>
            
            <div v-else>
                <div v-for="item in cart" :key="item.id" class="cart-drawer-item">
                    <img v-if="item.image" :src="item.image" class="cart-drawer-item-image" :alt="item.name">
                    <div v-else class="cart-drawer-item-placeholder">üç≤</div>
                    
                    <div class="cart-drawer-item-info">
                        <div class="cart-drawer-item-name">{{ item.name }}</div>
                        <div class="cart-drawer-item-category">{{ item.category }}</div>
                    </div>
                    
                    <div class="cart-drawer-item-controls">
                        <button class="cart-drawer-qty-btn" @click="decreaseQty(item)">-</button>
                        <span class="cart-drawer-quantity">{{ item.quantity }}</span>
                        <button class="cart-drawer-qty-btn" @click="increaseQty(item)">+</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÁÆ°ÁêÜÂºπÁ™ó -->
        <div class="admin-modal-overlay" :class="{show: showAdminModal}" @click="closeAdminModal">
            <div class="admin-modal" @click.stop>
                <div class="admin-modal-header">
                    <h2 class="admin-modal-title">‚öôÔ∏è Â¥îÂÆùÁöÑÂæ°ËÜ≥Êàø - ËèúÂìÅÁÆ°ÁêÜ</h2>
                    <button class="admin-modal-close" @click="closeAdminModal">‚úï</button>
                </div>
                <div class="admin-modal-body">
                    <!-- ÁÆ°ÁêÜÊ†áÁ≠æÈ°µ -->
                    <div class="admin-tabs">
                        <button 
                            class="admin-tab" 
                            :class="{active: adminTab === 'add'}"
                            @click="adminTab = 'add'"
                        >
                            ‚ûï Ê∑ªÂä†ËèúÂìÅ
                        </button>
                        <button 
                            class="admin-tab" 
                            :class="{active: adminTab === 'manage'}"
                            @click="adminTab = 'manage'"
                        >
                            üìã ÁÆ°ÁêÜËèúÂìÅ
                        </button>
                    </div>

                    <!-- Ê∑ªÂä†ËèúÂìÅ -->
                    <div class="admin-tab-content" :class="{active: adminTab === 'add'}">
                        <div class="form-card">
                            <form @submit.prevent="addDish">
                                <div class="form-group">
                                    <label class="form-label">ËèúÂìÅÂõæÁâá</label>
                                    <div class="image-upload">
                                        <input type="file" accept="image/*" @change="handleImageUpload">
                                        <div v-if="!newDish.image" class="image-upload-placeholder">
                                            <div class="image-upload-placeholder-icon">üì∑</div>
                                            <div>ÁÇπÂáª‰∏ä‰º†ËèúÂìÅÂõæÁâá</div>
                                        </div>
                                        <img v-else :src="newDish.image" class="image-preview">
                                        <button v-if="newDish.image" type="button" class="image-remove" @click="removeImage">‚úï</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ËèúÂìÅÂàÜÁ±ª *</label>
                                    <select v-model="newDish.category" class="form-select" required>
                                        <option value="">ËØ∑ÈÄâÊã©ÂàÜÁ±ª</option>
                                        <option v-for="cat in categories" :key="cat" :value="cat">{{ cat }}</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ËèúÂêç *</label>
                                    <input v-model="newDish.name" type="text" class="form-input" placeholder="‰æãÂ¶ÇÔºöÂÆ´‰øùÈ∏°‰∏Å" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ê†áÁ≠æÔºàÈÄóÂè∑ÂàÜÈöîÔºâ</label>
                                    <input v-model="newDish.tagsStr" type="text" class="form-input" placeholder="‰æãÂ¶ÇÔºöÂ∑ùËèú,Ëæ£,Ëç§Ëèú">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ÈöæÂ∫¶</label>
                                    <select v-model="newDish.difficulty" class="form-select">
                                        <option>ÁÆÄÂçï</option>
                                        <option>‰∏≠Á≠â</option>
                                        <option>Âõ∞Èöæ</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Âà∂‰ΩúÊ≠•È™§</label>
                                    <textarea v-model="newDish.steps" class="form-textarea" placeholder="ÊØèË°å‰∏Ä‰∏™Ê≠•È™§&#10;1. ÂáÜÂ§áÈ£üÊùê&#10;2. Â§ÑÁêÜÈ£üÊùê&#10;3. ÁÉπÈ•™..."></textarea>
                                </div>
                                <button type="submit" class="submit-btn">‰øùÂ≠òËèúÂìÅ</button>
                            </form>
                        </div>
                    </div>

                    <!-- ÁÆ°ÁêÜËèúÂìÅ -->
                    <div class="admin-tab-content" :class="{active: adminTab === 'manage'}">
                        <div v-if="dishes.length === 0" class="empty">
                            <div class="empty-icon">üçΩÔ∏è</div>
                            <p>ËøòÊ≤°Êúâ‰ªª‰ΩïËèúÂìÅ<br>ËØ∑ÂÖàÊ∑ªÂä†ËèúÂìÅ</p>
                        </div>
                        <div v-else class="admin-dish-list">
                            <div v-for="dish in dishes" :key="dish.id" class="admin-dish-item">
                                <img v-if="dish.image" :src="dish.image" class="admin-dish-image" :alt="dish.name">
                                <div v-else class="admin-dish-placeholder">üç≤</div>
                                <div class="admin-dish-info">
                                    <div class="admin-dish-name">{{ dish.name }}</div>
                                    <div class="admin-dish-meta">
                                        <span class="tag tag-category">{{ dish.category }}</span>
                                        <span v-for="tag in dish.tags" :key="tag" class="tag">{{ tag }}</span>
                                        <span class="tag tag-difficulty" :class="getDifficultyClass(dish.difficulty)">{{ dish.difficulty }}</span>
                                    </div>
                                </div>
                                <div class="admin-dish-actions">
                                    <button class="admin-action-btn admin-edit-btn" @click="startEditDish(dish)">
                                        ‚úèÔ∏è ÁºñËæë
                                    </button>
                                    <button class="admin-action-btn admin-delete-btn" @click="deleteDish(dish.id)">
                                        üóëÔ∏è Âà†Èô§
                                    </button>
                                </div>
                                
                                <!-- ÁºñËæëË°®Âçï -->
                                <div v-if="editingDishId === dish.id" class="admin-edit-form">
                                    <div class="admin-edit-form-title">‚úèÔ∏è ÁºñËæëËèúÂìÅ‰ø°ÊÅØ</div>
                                    <div class="form-group">
                                        <label class="form-label">ËèúÂìÅÂõæÁâá</label>
                                        <div class="image-upload">
                                            <input type="file" accept="image/*" @change="handleEditImageUpload">
                                            <div v-if="!editingDish.image" class="image-upload-placeholder">
                                                <div class="image-upload-placeholder-icon">üì∑</div>
                                                <div>ÁÇπÂáª‰∏ä‰º†ËèúÂìÅÂõæÁâá</div>
                                            </div>
                                            <img v-else :src="editingDish.image" class="image-preview">
                                            <button v-if="editingDish.image" type="button" class="image-remove" @click="removeEditImage">‚úï</button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ËèúÂìÅÂàÜÁ±ª *</label>
                                        <select v-model="editingDish.category" class="form-select" required>
                                            <option value="">ËØ∑ÈÄâÊã©ÂàÜÁ±ª</option>
                                            <option v-for="cat in categories" :key="cat" :value="cat">{{ cat }}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ËèúÂêç *</label>
                                        <input v-model="editingDish.name" type="text" class="form-input" placeholder="‰æãÂ¶ÇÔºöÂÆ´‰øùÈ∏°‰∏Å" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Ê†áÁ≠æÔºàÈÄóÂè∑ÂàÜÈöîÔºâ</label>
                                        <input v-model="editingDish.tagsStr" type="text" class="form-input" placeholder="‰æãÂ¶ÇÔºöÂ∑ùËèú,Ëæ£,Ëç§Ëèú">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ÈöæÂ∫¶</label>
                                        <select v-model="editingDish.difficulty" class="form-select">
                                            <option>ÁÆÄÂçï</option>
                                            <option>‰∏≠Á≠â</option>
                                            <option>Âõ∞Èöæ</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Âà∂‰ΩúÊ≠•È™§</label>
                                        <textarea v-model="editingDish.steps" class="form-textarea" placeholder="ÊØèË°å‰∏Ä‰∏™Ê≠•È™§&#10;1. ÂáÜÂ§áÈ£üÊùê&#10;2. Â§ÑÁêÜÈ£üÊùê&#10;3. ÁÉπÈ•™..."></textarea>
                                    </div>
                                    <div class="admin-form-actions">
                                        <button class="admin-cancel-btn" @click="cancelEdit">ÂèñÊ∂à</button>
                                        <button class="admin-save-btn" @click="saveEdit">üíæ ‰øùÂ≠ò‰øÆÊîπ</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ËÆ¢ÂçïÂºπÁ™ó -->
        <div class="order-modal-overlay" :class="{show: showOrderModal}" @click="closeOrderModal">
            <div class="order-modal" @click.stop>
                <div class="order-modal-header">
                    <h2 class="order-modal-title">üìã ÂéÜÂè≤ËÆ¢Âçï</h2>
                    <button class="order-modal-close" @click="closeOrderModal">‚úï</button>
                </div>
                <div class="order-modal-body">
                    <div v-if="orders.length === 0" class="order-empty">
                        <div class="order-empty-icon">üìÑ</div>
                        <p>ËøòÊ≤°ÊúâËÆ¢ÂçïËÆ∞ÂΩï<br>ÂéªÁÇπËèúÈ°µÈù¢Âä†Ëèú‰∏ãÂçïÂêßÔºÅ</p>
                    </div>
                    <div v-else class="order-list">
                        <div v-for="order in sortedOrders" :key="order.id" class="order-card" :class="{completed: order.status === 'completed'}">
                            <div class="order-header">
                                <div class="order-info">
                                    <div class="order-id">ËÆ¢ÂçïÁºñÂè∑Ôºö{{ order.id }}</div>
                                    <div class="order-time">üïí {{ order.createdAt }}</div>
                                </div>
                                <div class="order-status" :class="order.status === 'completed' ? 'completed' : 'pending'">
                                    {{ order.status === 'completed' ? '‚úÖ Â∑≤ÂÆåÊàê' : 'üïí ËøõË°å‰∏≠' }}
                                </div>
                            </div>
                            <div class="order-items">
                                <div v-for="item in order.items" :key="item.id" class="order-item">
                                    <span class="order-item-name">{{ item.name }}</span>
                                    <span class="order-item-quantity">√ó {{ item.quantity }}</span>
                                </div>
                            </div>
                            <div class="order-total">
                                <span class="order-total-label">ÊÄªËÆ°</span>
                                <span class="order-total-value">{{ order.total }} ÈÅìËèú</span>
                            </div>
                            <div class="order-actions">
                                <button v-if="order.status !== 'completed'" class="order-action-btn order-complete-btn" @click="completeOrder(order.id)">
                                    ‚úÖ Ê†áËÆ∞ÂÆåÊàê
                                </button>
                                <button class="order-action-btn order-delete-btn" @click="deleteOrder(order.id)">
                                    üóëÔ∏è Âà†Èô§ËÆ¢Âçï
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂøÉÊÑøÂ¢ôÂºπÁ™ó -->
        <div class="wish-modal-overlay" :class="{show: showWishModal}" @click="closeWishModal">
            <div class="wish-modal" @click.stop>
                <div class="wish-modal-header">
                    <h2 class="wish-modal-title">üíõ ÂøÉÊÑøÂ¢ô - ÊÉ≥ÂêÉÁöÑËèú</h2>
                    <button class="wish-modal-close" @click="closeWishModal">‚úï</button>
                </div>
                <div class="wish-modal-body">
                    <!-- Ê∑ªÂä†ÂøÉÊÑøË°®Âçï -->
                    <div class="wish-add-form">
                        <div class="wish-add-title">‚ú® Ê∑ªÂä†Êñ∞ÂøÉÊÑø</div>
                        <div class="wish-input-group">
                            <input 
                                v-model="newWish.name" 
                                type="text" 
                                class="wish-input" 
                                placeholder="ÊÉ≥ÂêÉ‰ªÄ‰πàËèúÔºüÔºàÂøÖÂ°´Ôºâ"
                                @keyup.enter="addWish"
                            >
                            <button class="wish-add-btn" @click="addWish">‚ûï Ê∑ªÂä†</button>
                        </div>
                        <input 
                            v-model="newWish.note" 
                            type="text" 
                            class="wish-input" 
                            placeholder="Â§áÊ≥®ÔºàÂèØÈÄâÔºâÔºö‰æãÂ¶ÇÊÉ≥ÂêÉÁöÑÂéüÂõ†„ÄÅÂè£Âë≥ÂñúÂ•ΩÁ≠â"
                            @keyup.enter="addWish"
                        >
                    </div>

                    <!-- ÂøÉÊÑøÂàóË°® -->
                    <div v-if="wishes.length === 0" class="wish-empty">
                        <div class="wish-empty-icon">üåü</div>
                        <p>ËøòÊ≤°ÊúâÂøÉÊÑø<br>Ê∑ªÂä†‰Ω†ÊÉ≥ÂêÉÁöÑËèúÂêßÔºÅ</p>
                    </div>
                    <div v-else class="wish-list">
                        <div v-for="wish in sortedWishes" :key="wish.id" class="wish-card" :class="wish.status">
                            <div class="wish-content">
                                <div class="wish-info">
                                    <div class="wish-name">üç≤ {{ wish.name }}</div>
                                    <div v-if="wish.note" class="wish-note">üìù {{ wish.note }}</div>
                                </div>
                                <div class="wish-status" :class="wish.status">
                                    <span v-if="wish.status === 'pending'">üïí ÂæÖÂÆûÁé∞</span>
                                    <span v-else-if="wish.status === 'learning'">üìö Â≠¶‰π†‰∏≠</span>
                                    <span v-else-if="wish.status === 'added'">‚úÖ Â∑≤Âä†ÂÖ•</span>
                                </div>
                            </div>
                            <div class="wish-actions">
                                <button v-if="wish.status === 'pending'" class="wish-action-btn wish-learning-btn" @click="updateWishStatus(wish.id, 'learning')">
                                    üìö ÂºÄÂßãÂ≠¶‰π†
                                </button>
                                <button v-if="wish.status === 'learning'" class="wish-action-btn wish-added-btn" @click="updateWishStatus(wish.id, 'added')">
                                    ‚úÖ Â∑≤Âä†ÂÖ•ËèúÂçï
                                </button>
                                <button v-if="wish.status === 'pending'" class="wish-action-btn wish-added-btn" @click="updateWishStatus(wish.id, 'added')">
                                    ‚úÖ Áõ¥Êé•Âä†ÂÖ•ËèúÂçï
                                </button>
                                <button class="wish-action-btn wish-delete-btn" @click="deleteWish(wish.id)">
                                    üóëÔ∏è Âà†Èô§
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Êï∞ÊçÆÁÆ°ÁêÜÂºπÁ™ó -->
        <div class="data-modal-overlay" :class="{show: showDataModal}" @click="closeDataModal">
            <div class="data-modal" @click.stop>
                <div class="data-modal-header">
                    <h2 class="data-modal-title">üíæ Êï∞ÊçÆÁÆ°ÁêÜ</h2>
                    <button class="data-modal-close" @click="closeDataModal">‚úï</button>
                </div>
                <div class="data-modal-body">
                    <!-- ÂØºÂá∫Êï∞ÊçÆ -->
                    <div class="data-section">
                        <div class="data-section-title">
                            üì§ ÂØºÂá∫Êï∞ÊçÆ
                        </div>
                        <div class="data-section-desc">
                            Â∞ÜÊâÄÊúâÊï∞ÊçÆÔºàËèúÂìÅ„ÄÅËÆ¢Âçï„ÄÅÂøÉÊÑøÂ¢ôÔºâÂØºÂá∫‰∏∫ JSON Êñá‰ª∂ÔºåÂèØ‰ª•ÈÄöËøá Git/GitHub ÂêåÊ≠•ÊàñÊú¨Âú∞Â§á‰ªΩ„ÄÇ
                        </div>
                        <button class="data-action-btn data-export-btn" @click="exportData">
                            üì• ÂØºÂá∫ÊâÄÊúâÊï∞ÊçÆ
                        </button>
                        <div class="data-info">
                            <div class="data-info-title">üìä ÂΩìÂâçÊï∞ÊçÆÁªüËÆ°</div>
                            <div class="data-info-item">
                                <span>ËèúÂìÅÊï∞ÈáèÔºö</span>
                                <span class="data-info-value">{{ dishes.length }} ÈÅì</span>
                            </div>
                            <div class="data-info-item">
                                <span>ËÆ¢ÂçïÊï∞ÈáèÔºö</span>
                                <span class="data-info-value">{{ orders.length }} ‰∏™</span>
                            </div>
                            <div class="data-info-item">
                                <span>ÂøÉÊÑøÊï∞ÈáèÔºö</span>
                                <span class="data-info-value">{{ wishes.length }} ‰∏™</span>
                            </div>
                        </div>
                    </div>

                    <!-- ÂØºÂÖ•Êï∞ÊçÆ -->
                    <div class="data-section">
                        <div class="data-section-title">
                            üì• ÂØºÂÖ•Êï∞ÊçÆ
                        </div>
                        <div class="data-section-desc">
                            ‰ªé JSON Êñá‰ª∂ÂØºÂÖ•Êï∞ÊçÆÔºåÊÅ¢Â§ç‰πãÂâçÁöÑÂ§á‰ªΩÊàñ‰ªéÂÖ∂‰ªñËÆæÂ§áÂêåÊ≠•Êï∞ÊçÆ„ÄÇ
                            <br><strong style="color: #dc2626;">‚ö†Ô∏è Ê≥®ÊÑèÔºöÂØºÂÖ•‰ºöË¶ÜÁõñÂΩìÂâçÊï∞ÊçÆÔºÅ</strong>
                        </div>
                        <input type="file" ref="fileInput" class="file-input-hidden" accept=".json" @change="importData">
                        <button class="data-action-btn data-import-btn" @click="$refs.fileInput.click()">
                            üìÇ ÈÄâÊã©Êñá‰ª∂ÂØºÂÖ•
                        </button>
                    </div>

                    <!-- Git ÂêåÊ≠•ÊåáÂçó -->
                    <div class="data-section">
                        <div class="data-section-title">
                            üêô Git/GitHub ÂêåÊ≠•ÊåáÂçó
                        </div>
                        <div class="data-section-desc" style="line-height: 1.8;">
                            <strong>1„ÄÅÂØºÂá∫Êï∞ÊçÆÔºö</strong>ÁÇπÂáª‰∏äÊñπ‚ÄúÂØºÂá∫ÊâÄÊúâÊï∞ÊçÆ‚ÄùÊåâÈíÆ<br>
                            <strong>2„ÄÅ‰øùÂ≠òÊñá‰ª∂Ôºö</strong>Â∞Ü‰∏ãËΩΩÁöÑ <code>caipu-data.json</code> Êñá‰ª∂ÊîæÂà∞È°πÁõÆÊ†πÁõÆÂΩï<br>
                            <strong>3„ÄÅGit Êèê‰∫§Ôºö</strong>
                            <pre style="background: #f3f4f6; padding: 0.5rem; border-radius: 0.5rem; margin: 0.5rem 0; overflow-x: auto;">git add caipu-data.json
git commit -m "Êõ¥Êñ∞ËèúÂìÅÊï∞ÊçÆ"
git push</pre>
                            <strong>4„ÄÅÂÖ∂‰ªñËÆæÂ§áÂêåÊ≠•Ôºö</strong>
                            <pre style="background: #f3f4f6; padding: 0.5rem; border-radius: 0.5rem; margin: 0.5rem 0; overflow-x: auto;">git pull
ÁÑ∂ÂêéÂØºÂÖ• caipu-data.json Êñá‰ª∂</pre>
                        </div>
                    </div>

                    <!-- Ê∏ÖÁ©∫Êï∞ÊçÆ -->
                    <div class="data-section">
                        <div class="data-section-title">
                            üóëÔ∏è Ê∏ÖÁ©∫Êï∞ÊçÆ
                        </div>
                        <div class="data-section-desc">
                            Âà†Èô§ÊâÄÊúâÊú¨Âú∞Êï∞ÊçÆÔºåÈáçÁΩÆ‰∏∫ÂàùÂßãÁä∂ÊÄÅ„ÄÇ
                            <br><strong style="color: #dc2626;">‚ö†Ô∏è Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºåËØ∑ÂÖàÂØºÂá∫Â§á‰ªΩÔºÅ</strong>
                        </div>
                        <button class="data-action-btn data-clear-btn" @click="clearAllData">
                            üóëÔ∏è Ê∏ÖÁ©∫ÊâÄÊúâÊï∞ÊçÆ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    view: 'dishes',
                    showForm: false,
                    showCartDrawer: false,
                    showAdminModal: false,
                    showOrderModal: false,
                    showWishModal: false,
                    showDataModal: false,
                    adminTab: 'add',
                    expandedDishes: {},
                    categories: ['Áé∞ÁÇíËÇâÁ±ª', 'Ëî¨Ëèú', 'ÁÇñÊ±§', 'ÁÉßÁÉ§', 'È•ÆÊñô', 'Â∞èÂêÉ', 'ÂÜÖËíôÈ£éÂë≥', 'Á≤§ÂºèÊó©ÁÇπ','ÂÖªÁîüËå∂'],
                    currentCategory: 'Áé∞ÁÇíËÇâÁ±ª',
                    dishes: [],
                    cart: [],
                    orders: [],
                    wishes: [],
                    newWish: {
                        name: '',
                        note: ''
                    },
                    editingDishId: null,
                    editingDish: {
                        name: '',
                        category: '',
                        image: '',
                        tagsStr: '',
                        difficulty: 'ÁÆÄÂçï',
                        steps: ''
                    },
                    newDish: {
                        name: '',
                        category: '',
                        image: '',
                        tagsStr: '',
                        difficulty: 'ÁÆÄÂçï',
                        steps: ''
                    },
                    saveTimeout: null // Áî®‰∫éÈò≤Êäñ
                }
            },
            computed: {
                cartCount() {
                    return this.cart.reduce((sum, item) => sum + item.quantity, 0);
                },
                totalItems() {
                    return this.cart.reduce((sum, item) => sum + item.quantity, 0);
                },
                filteredDishes() {
                    return this.dishes.filter(dish => dish.category === this.currentCategory);
                },
                sortedOrders() {
                    return this.orders.slice().sort((a, b) => b.id - a.id);
                },
                sortedWishes() {
                    return this.wishes.slice().sort((a, b) => b.id - a.id);
                }
            },
            mounted() {
                this.loadData();
                // Ê≥®ÂÜå Service WorkerÔºàPWA ÊîØÊåÅÔºâ
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('sw.js').catch(() => {});
                }
            },
            methods: {
                getDifficultyClass(difficulty) {
                    if (difficulty === 'ÁÆÄÂçï') return 'easy';
                    if (difficulty === '‰∏≠Á≠â') return 'medium';
                    if (difficulty === 'Âõ∞Èöæ') return 'hard';
                    return '';
                },
                loadData() {
                    // ÂßãÁªà‰ªé data.json Âä†ËΩΩÊúÄÊñ∞Êï∞ÊçÆÔºàÂÆûÁé∞Â§öËÆæÂ§áÂêåÊ≠•Ôºâ
                    // localStorage ‰ªÖ‰Ωú‰∏∫‰∏¥Êó∂ÁºìÂ≠òÔºåÈò≤Ê≠¢È°µÈù¢Âà∑Êñ∞Êó∂Êï∞ÊçÆ‰∏¢Â§±
                    this.loadFromJsonFile();
                    
                    // ÂêåÊó∂ÊÅ¢Â§çË¥≠Áâ©ËΩ¶ÔºàË¥≠Áâ©ËΩ¶ÊòØ‰∏¥Êó∂Êï∞ÊçÆÔºå‰∏çÈúÄË¶ÅÂêåÊ≠•Ôºâ
                    const savedCart = localStorage.getItem('cart');
                    if (savedCart) {
                        this.cart = JSON.parse(savedCart);
                    }
                },
                async loadFromJsonFile() {
                    try {
                        const response = await fetch('data.json');
                        if (response.ok) {
                            const data = await response.json();
                            console.log('‚úÖ ÊàêÂäü‰ªé data.json Âä†ËΩΩÊï∞ÊçÆ');
                            
                            if (data.dishes) {
                                this.dishes = data.dishes;
                                this.saveDishes();
                            }
                            if (data.orders) {
                                this.orders = data.orders;
                                this.saveOrders();
                            }
                            if (data.wishes) {
                                this.wishes = data.wishes;
                                this.saveWishes();
                            }
                        } else {
                            console.log('‚ö†Ô∏è data.json ‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ');
                            this.loadDefaultData();
                        }
                    } catch (error) {
                        console.log('‚ö†Ô∏è Êó†Ê≥ïÂä†ËΩΩ data.jsonÔºå‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ', error);
                        this.loadDefaultData();
                    }
                },
                loadDefaultData() {
                    // ÈªòËÆ§Á§∫‰æãÊï∞ÊçÆ
                    this.dishes = [
                        { 
                            id: 1, 
                            name: 'Áï™ËåÑÁÇíËõã',
                            category: 'Ëî¨Ëèú',
                            image: '',
                            tags: ['ÂÆ∂Â∏∏', 'ÁÆÄÂçï'], 
                            difficulty: 'ÁÆÄÂçï', 
                            steps: '1. È∏°ËõãÊâìÊï£\n2. Áï™ËåÑÂàáÂùó\n3. ÁÉ≠ÈîÖÁÇíËõã\n4. Âä†Áï™ËåÑÁøªÁÇí' 
                        },
                        { 
                            id: 2, 
                            name: 'Á∫¢ÁÉßËÇâ',
                            category: 'Áé∞ÁÇíËÇâÁ±ª',
                            image: '',
                            tags: ['Ëç§Ëèú', '‰∏ãÈ•≠'], 
                            difficulty: '‰∏≠Á≠â', 
                            steps: '1. ‰∫îËä±ËÇâÂàáÂùó\n2. ÁÑØÊ∞¥ÂéªËÖ•\n3. ÁÇíÁ≥ñËâ≤\n4. ÁÇñÁÖÆ40ÂàÜÈíü' 
                        }
                    ];
                    this.saveDishes();
                },
                getCategoryCount(category) {
                    return this.dishes.filter(dish => dish.category === category).length;
                },
                getDishQuantity(dishId) {
                    const item = this.cart.find(item => item.id === dishId);
                    return item ? item.quantity : 0;
                },
                toggleDishExpand(dishId) {
                    this.expandedDishes[dishId] = !this.expandedDishes[dishId];
                },
                isDishExpanded(dishId) {
                    return this.expandedDishes[dishId] || false;
                },
                isDishStepsTruncated(steps) {
                    if (!steps) return false;
                    const lines = steps.split('\n').length;
                    return lines > 2 || steps.length > 100;
                },
                increaseDishQty(dish) {
                    const existing = this.cart.find(item => item.id === dish.id);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        this.cart.push({ ...dish, quantity: 1 });
                    }
                    this.saveCart();
                },
                decreaseDishQty(dish) {
                    const existing = this.cart.find(item => item.id === dish.id);
                    if (existing) {
                        if (existing.quantity > 1) {
                            existing.quantity--;
                        } else {
                            this.cart = this.cart.filter(item => item.id !== dish.id);
                        }
                        this.saveCart();
                    }
                },
                handleImageUpload(event) {
                    const file = event.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.newDish.image = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                },
                removeImage() {
                    this.newDish.image = '';
                },
                toggleForm() {
                    this.showForm = !this.showForm;
                },
                openAdminModal() {
                    this.showAdminModal = true;
                },
                closeAdminModal() {
                    this.showAdminModal = false;
                },
                openOrderModal() {
                    this.showOrderModal = true;
                },
                closeOrderModal() {
                    this.showOrderModal = false;
                },
                openWishModal() {
                    this.showWishModal = true;
                },
                closeWishModal() {
                    this.showWishModal = false;
                },
                openDataModal() {
                    this.showDataModal = true;
                },
                closeDataModal() {
                    this.showDataModal = false;
                },
                toggleCartDrawer() {
                    this.showCartDrawer = !this.showCartDrawer;
                },
                closeCartDrawer() {
                    this.showCartDrawer = false;
                },
                addDish() {
                    const tags = this.newDish.tagsStr
                        ? this.newDish.tagsStr.split(',').map(t => t.trim()).filter(t => t)
                        : [];
                    
                    const dish = {
                        id: Date.now(),
                        name: this.newDish.name,
                        category: this.newDish.category,
                        image: this.newDish.image,
                        tags: tags,
                        difficulty: this.newDish.difficulty,
                        steps: this.newDish.steps
                    };
                    
                    this.dishes.push(dish);
                    this.saveDishes();
                    
                    // ÈáçÁΩÆË°®Âçï
                    this.newDish = {
                        name: '',
                        category: '',
                        image: '',
                        tagsStr: '',
                        difficulty: 'ÁÆÄÂçï',
                        steps: ''
                    };
                    // ÂàáÊç¢Âà∞Êñ∞Â¢ûËèúÂìÅÁöÑÂàÜÁ±ª
                    this.currentCategory = dish.category;
                    // ÂàáÊç¢Âà∞ÁÆ°ÁêÜÊ†áÁ≠æÈ°µ
                    this.adminTab = 'manage';
                    
                    alert('ËèúÂìÅÊ∑ªÂä†ÊàêÂäüÔºÅ');
                },
                deleteDish(id) {
                    if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÈÅìËèúÂêóÔºü')) {
                        this.dishes = this.dishes.filter(d => d.id !== id);
                        this.saveDishes();
                    }
                },
                startEditDish(dish) {
                    this.editingDishId = dish.id;
                    this.editingDish = {
                        name: dish.name,
                        category: dish.category,
                        image: dish.image || '',
                        tagsStr: dish.tags ? dish.tags.join(', ') : '',
                        difficulty: dish.difficulty,
                        steps: dish.steps || ''
                    };
                },
                cancelEdit() {
                    this.editingDishId = null;
                    this.editingDish = {
                        name: '',
                        category: '',
                        image: '',
                        tagsStr: '',
                        difficulty: 'ÁÆÄÂçï',
                        steps: ''
                    };
                },
                saveEdit() {
                    if (!this.editingDish.name || !this.editingDish.category) {
                        alert('ËØ∑Â°´ÂÜôËèúÂêçÂíåÂàÜÁ±ª');
                        return;
                    }
                    
                    const dish = this.dishes.find(d => d.id === this.editingDishId);
                    if (dish) {
                        const tags = this.editingDish.tagsStr
                            ? this.editingDish.tagsStr.split(',').map(t => t.trim()).filter(t => t)
                            : [];
                        
                        dish.name = this.editingDish.name;
                        dish.category = this.editingDish.category;
                        dish.image = this.editingDish.image;
                        dish.tags = tags;
                        dish.difficulty = this.editingDish.difficulty;
                        dish.steps = this.editingDish.steps;
                        
                        this.saveDishes();
                        this.cancelEdit();
                        alert('ËèúÂìÅ‰øÆÊîπÊàêÂäüÔºÅ');
                    }
                },
                handleEditImageUpload(event) {
                    const file = event.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.editingDish.image = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                },
                removeEditImage() {
                    this.editingDish.image = '';
                },
                addToCart(dish) {
                    const existing = this.cart.find(item => item.id === dish.id);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        this.cart.push({ ...dish, quantity: 1 });
                    }
                    this.saveCart();
                },
                removeFromCart(id) {
                    this.cart = this.cart.filter(item => item.id !== id);
                    this.saveCart();
                },
                increaseQty(item) {
                    item.quantity++;
                    this.saveCart();
                },
                decreaseQty(item) {
                    if (item.quantity > 1) {
                        item.quantity--;
                        this.saveCart();
                    } else {
                        this.removeFromCart(item.id);
                    }
                },
                placeOrder() {
                    if (this.cart.length === 0) {
                        alert('Ë¥≠Áâ©ËΩ¶ÊòØÁ©∫ÁöÑ');
                        return;
                    }
                    
                    const order = {
                        id: Date.now(),
                        items: [...this.cart],
                        total: this.totalItems,
                        createdAt: new Date().toLocaleString('zh-CN'),
                        status: 'pending'
                    };
                    
                    this.orders.push(order);
                    this.saveOrders();
                    
                    alert(`ËÆ¢ÂçïÂ∑≤ÂàõÂª∫ÔºÅ\nÂÖ± ${order.total} ÈÅìËèú\nÊó∂Èó¥Ôºö${order.createdAt}`);
                    
                    this.cart = [];
                    this.saveCart();
                    this.closeCartDrawer();
                },
                completeOrder(orderId) {
                    const order = this.orders.find(o => o.id === orderId);
                    if (order) {
                        order.status = 'completed';
                        this.saveOrders();
                    }
                },
                deleteOrder(orderId) {
                    if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ËÆ¢ÂçïÂêóÔºü')) {
                        this.orders = this.orders.filter(o => o.id !== orderId);
                        this.saveOrders();
                    }
                },
                saveDishes() {
                    localStorage.setItem('dishes', JSON.stringify(this.dishes));
                    this.autoSaveToServer(); // Ëá™Âä®‰øùÂ≠òÂà∞ÊúçÂä°Âô®
                },
                saveCart() {
                    localStorage.setItem('cart', JSON.stringify(this.cart));
                },
                saveOrders() {
                    localStorage.setItem('orders', JSON.stringify(this.orders));
                    this.autoSaveToServer(); // Ëá™Âä®‰øùÂ≠òÂà∞ÊúçÂä°Âô®
                },
                addWish() {
                    if (!this.newWish.name.trim()) {
                        alert('ËØ∑ËæìÂÖ•ÊÉ≥ÂêÉÁöÑËèúÂêç');
                        return;
                    }
                    
                    const wish = {
                        id: Date.now(),
                        name: this.newWish.name.trim(),
                        note: this.newWish.note.trim(),
                        status: 'pending',
                        createdAt: new Date().toLocaleString('zh-CN')
                    };
                    
                    this.wishes.push(wish);
                    this.saveWishes();
                    
                    this.newWish = { name: '', note: '' };
                },
                updateWishStatus(wishId, newStatus) {
                    const wish = this.wishes.find(w => w.id === wishId);
                    if (wish) {
                        wish.status = newStatus;
                        this.saveWishes();
                    }
                },
                deleteWish(wishId) {
                    if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÂøÉÊÑøÂêóÔºü')) {
                        this.wishes = this.wishes.filter(w => w.id !== wishId);
                        this.saveWishes();
                    }
                },
                saveWishes() {
                    localStorage.setItem('wishes', JSON.stringify(this.wishes));
                    this.autoSaveToServer(); // Ëá™Âä®‰øùÂ≠òÂà∞ÊúçÂä°Âô®
                },
                async autoSaveToServer() {
                    // Èò≤ÊäñÔºöÈÅøÂÖçÈ¢ëÁπÅËØ∑Ê±Ç
                    if (this.saveTimeout) {
                        clearTimeout(this.saveTimeout);
                    }
                    
                    this.saveTimeout = setTimeout(async () => {
                        try {
                            const data = {
                                dishes: this.dishes,
                                orders: this.orders,
                                wishes: this.wishes
                            };
                            
                            const response = await fetch('http://localhost:3000/api/save-data', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(data)
                            });
                            
                            const result = await response.json();
                            
                            if (result.success) {
                                console.log('‚úÖ Êï∞ÊçÆÂ∑≤Ëá™Âä®‰øùÂ≠òÂà∞ data.json');
                            } else {
                                console.error('‚ö†Ô∏è ‰øùÂ≠òÂ§±Ë¥•:', result.message);
                            }
                        } catch (error) {
                            // ÈùôÈªòÂ§±Ë¥•Ôºå‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å
                            console.log('‚ö†Ô∏è Êó†Ê≥ïËøûÊé•Âà∞ÊúçÂä°Âô®ÔºåÊï∞ÊçÆ‰ªÖ‰øùÂ≠òÂú®Êú¨Âú∞');
                        }
                    }, 1000); // 1ÁßíÂêé‰øùÂ≠òÔºåÈÅøÂÖçÈ¢ëÁπÅËØ∑Ê±Ç
                },
                exportData() {
                    const data = {
                        version: '1.0',
                        exportTime: new Date().toLocaleString('zh-CN'),
                        dishes: this.dishes,
                        orders: this.orders,
                        wishes: this.wishes
                    };
                    
                    const dataStr = JSON.stringify(data, null, 2);
                    const blob = new Blob([dataStr], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = `caipu-data-${new Date().getTime()}.json`;
                    link.click();
                    URL.revokeObjectURL(url);
                    
                    alert('Êï∞ÊçÆÂØºÂá∫ÊàêÂäüÔºÅ\nÊñá‰ª∂Â∑≤‰∏ãËΩΩ„ÄÇ');
                },
                importData(event) {
                    const file = event.target.files[0];
                    if (!file) return;
                    
                    if (!confirm('ÂØºÂÖ•Êï∞ÊçÆÂ∞ÜË¶ÜÁõñÂΩìÂâçÊâÄÊúâÊï∞ÊçÆÔºåÊòØÂê¶ÁªßÁª≠Ôºü\n\nÂª∫ËÆÆÂÖàÂØºÂá∫ÂΩìÂâçÊï∞ÊçÆ‰Ωú‰∏∫Â§á‰ªΩÔºÅ')) {
                        event.target.value = '';
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const data = JSON.parse(e.target.result);
                            
                            if (data.dishes) {
                                this.dishes = data.dishes;
                                this.saveDishes();
                            }
                            if (data.orders) {
                                this.orders = data.orders;
                                this.saveOrders();
                            }
                            if (data.wishes) {
                                this.wishes = data.wishes;
                                this.saveWishes();
                            }
                            
                            alert(`Êï∞ÊçÆÂØºÂÖ•ÊàêÂäüÔºÅ

ËèúÂìÅÔºö${data.dishes?.length || 0} ÈÅì
ËÆ¢ÂçïÔºö${data.orders?.length || 0} ‰∏™
ÂøÉÊÑøÔºö${data.wishes?.length || 0} ‰∏™`);
                            this.closeDataModal();
                        } catch (error) {
                            alert('Êñá‰ª∂Ê†ºÂºèÈîôËØØÔºåËØ∑ÈÄâÊã©Ê≠£Á°ÆÁöÑ JSON Êñá‰ª∂ÔºÅ');
                        }
                        event.target.value = '';
                    };
                    reader.readAsText(file);
                },
                clearAllData() {
                    if (!confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÊï∞ÊçÆÂêóÔºü\n\nËøôÂ∞ÜÂà†Èô§Ôºö\n- ÊâÄÊúâËèúÂìÅ\n- ÊâÄÊúâËÆ¢Âçï\n- ÊâÄÊúâÂøÉÊÑø\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ')) {
                        return;
                    }
                    
                    if (!confirm('ÊúÄÂêéÁ°ÆËÆ§ÔºöÁúüÁöÑË¶ÅÊ∏ÖÁ©∫ÂêóÔºü')) {
                        return;
                    }
                    
                    this.dishes = [];
                    this.orders = [];
                    this.wishes = [];
                    this.cart = [];
                    
                    localStorage.removeItem('dishes');
                    localStorage.removeItem('orders');
                    localStorage.removeItem('wishes');
                    localStorage.removeItem('cart');
                    
                    alert('ÊâÄÊúâÊï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫ÔºÅ');
                    this.closeDataModal();
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
