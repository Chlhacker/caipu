# ğŸ“¦ æ•°æ®åŒæ­¥æŒ‡å— - Git/GitHub æ–¹å¼

## ğŸ¯ æ¦‚è¿°

é€šè¿‡ JSON æ–‡ä»¶å®ç°æ•°æ®æŒä¹…åŒ–å’Œè·¨è®¾å¤‡åŒæ­¥ï¼Œä½¿ç”¨ Git/GitHub ç®¡ç†ä½ çš„èœå“æ•°æ®ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯¼å‡ºæ•°æ®

1. æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡»å³ä¸Šè§’ **ğŸ’¾ æ•°æ®** æŒ‰é’®
2. åœ¨å¼¹çª—ä¸­ç‚¹å‡» **ğŸ“¥ å¯¼å‡ºæ‰€æœ‰æ•°æ®**
3. æµè§ˆå™¨ä¼šä¸‹è½½ `caipu-data-{timestamp}.json` æ–‡ä»¶
4. å°†æ–‡ä»¶é‡å‘½åä¸º `caipu-data.json`ï¼ˆå¯é€‰ï¼‰
5. ç§»åŠ¨æ–‡ä»¶åˆ°é¡¹ç›®æ ¹ç›®å½•

### 2. æäº¤åˆ° Git

```bash
# æ·»åŠ æ•°æ®æ–‡ä»¶
git add caipu-data.json

# æäº¤æ›´æ”¹
git commit -m "æ›´æ–°èœå“æ•°æ®"

# æ¨é€åˆ° GitHub
git push origin main
```

### 3. å…¶ä»–è®¾å¤‡åŒæ­¥

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡»"ğŸ’¾ æ•°æ®"
# ç‚¹å‡»"ğŸ“‚ é€‰æ‹©æ–‡ä»¶å¯¼å…¥"
# é€‰æ‹© caipu-data.json æ–‡ä»¶
# ç¡®è®¤å¯¼å…¥
```

---

## ğŸ“Š æ•°æ®æ–‡ä»¶ç»“æ„

### JSON æ–‡ä»¶æ ¼å¼

```json
{
  "version": "1.0",
  "exportTime": "2024/1/1 12:00:00",
  "dishes": [
    {
      "id": 1701234567890,
      "name": "å®«ä¿é¸¡ä¸",
      "category": "ç°ç‚’è‚‰ç±»",
      "image": "data:image/png;base64,...",
      "tags": ["å·èœ", "è¾£", "è¤èœ"],
      "difficulty": "ä¸­ç­‰",
      "steps": "1. å‡†å¤‡é£Ÿæ\n2. åˆ‡å—è…Œåˆ¶\n3. çƒ­é”…çˆ†é¦™\n4. å¤§ç«å¿«ç‚’"
    }
  ],
  "orders": [
    {
      "id": 1701234567890,
      "items": [...],
      "total": 3,
      "createdAt": "2024/1/1 12:30:00",
      "status": "pending"
    }
  ],
  "wishes": [
    {
      "id": 1701234567890,
      "name": "ç³–é†‹é‡Œè„Š",
      "note": "æƒ³åƒé…¸ç”œå£å‘³çš„",
      "status": "pending",
      "createdAt": "2024/1/1 12:30:00"
    }
  ]
}
```

---

## ğŸ”„ å·¥ä½œæµç¨‹

### åœºæ™¯1ï¼šå•äººä½¿ç”¨ï¼Œå®šæœŸå¤‡ä»½

```bash
# æ¯æ¬¡æ›´æ–°èœå“å
1. å¯¼å‡ºæ•°æ®
2. git add caipu-data.json
3. git commit -m "æ›´æ–°èœå“æ•°æ® - {æ—¥æœŸ}"
4. git push
```

### åœºæ™¯2ï¼šå¤šè®¾å¤‡åŒæ­¥

**è®¾å¤‡Aï¼ˆç”µè„‘ï¼‰ï¼š**
```bash
# æ·»åŠ æ–°èœå“å
1. å¯¼å‡ºæ•°æ®åˆ°é¡¹ç›®ç›®å½•
2. git add caipu-data.json
3. git commit -m "æ·»åŠ æ–°èœå“ï¼šç³–é†‹é‡Œè„Š"
4. git push
```

**è®¾å¤‡Bï¼ˆæ‰‹æœº/å¹³æ¿ï¼‰ï¼š**
```bash
# åŒæ­¥æ•°æ®
1. git pull
2. æ‰“å¼€åº”ç”¨
3. ç‚¹å‡»"ğŸ’¾ æ•°æ®" â†’ "å¯¼å…¥æ•°æ®"
4. é€‰æ‹© caipu-data.json
5. ç¡®è®¤å¯¼å…¥
```

### åœºæ™¯3ï¼šå›¢é˜Ÿåä½œï¼ˆå¤šäººå½•å…¥ï¼‰

**æˆå‘˜Aï¼š**
```bash
# æ·»åŠ èœå“
1. git pullï¼ˆå…ˆæ‹‰å–æœ€æ–°æ•°æ®ï¼‰
2. å¯¼å…¥æœ€æ–°çš„ caipu-data.json
3. æ·»åŠ æ–°èœå“
4. å¯¼å‡ºæ•°æ®
5. git add caipu-data.json
6. git commit -m "æ·»åŠ èœå“ï¼šå®«ä¿é¸¡ä¸"
7. git push
```

**æˆå‘˜Bï¼š**
```bash
# åŒæ­¥æ•°æ®
1. git pull
2. å¯¼å…¥ caipu-data.json
```

---

## ğŸ“ æ¨èçš„æ–‡ä»¶ç»“æ„

```
caipu/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢
â”œâ”€â”€ manifest.json           # PWA é…ç½®
â”œâ”€â”€ sw.js                   # Service Worker
â”œâ”€â”€ caipu-data.json        # æ•°æ®æ–‡ä»¶ï¼ˆæ‰‹åŠ¨å¯¼å‡ºï¼‰
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

### .gitignore å»ºè®®

```gitignore
# ä¸è¦å¿½ç•¥æ•°æ®æ–‡ä»¶
# caipu-data.json åº”è¯¥è¢«æäº¤

# å¯ä»¥å¿½ç•¥å¸¦æ—¶é—´æˆ³çš„å¯¼å‡ºæ–‡ä»¶
caipu-data-*.json

# å¿½ç•¥ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®è¦†ç›–è­¦å‘Š
- âš ï¸ **å¯¼å…¥ä¼šè¦†ç›–å½“å‰æ‰€æœ‰æ•°æ®**
- ğŸ’¡ å¯¼å…¥å‰å»ºè®®å…ˆå¯¼å‡ºå½“å‰æ•°æ®ä½œä¸ºå¤‡ä»½
- ğŸ”’ é‡è¦æ•°æ®è¯·ä¿ç•™å¤šä¸ªç‰ˆæœ¬å¤‡ä»½

### 2. å†²çªå¤„ç†
å¦‚æœå¤šäººåŒæ—¶ä¿®æ”¹ï¼š
```bash
# å‘ç”Ÿå†²çªæ—¶
1. git pull ä¼šæç¤ºå†²çª
2. æ‰‹åŠ¨ç¼–è¾‘ caipu-data.json
3. æˆ–è€…ï¼š
   - å¯¼å‡ºå½“å‰æ•°æ®ä¸ºä¸´æ—¶æ–‡ä»¶
   - git checkout --theirs caipu-data.json
   - å¯¼å…¥æœ€æ–°æ•°æ®
   - æ‰‹åŠ¨åœ¨åº”ç”¨ä¸­åˆå¹¶å˜æ›´
```

### 3. å›¾ç‰‡æ•°æ®
- å›¾ç‰‡ä»¥ Base64 æ ¼å¼å­˜å‚¨åœ¨ JSON ä¸­
- å¤§é‡å›¾ç‰‡ä¼šå¯¼è‡´æ–‡ä»¶è¾ƒå¤§
- å»ºè®®å®šæœŸæ¸…ç†ä¸éœ€è¦çš„å›¾ç‰‡
- æˆ–è€…è€ƒè™‘ä½¿ç”¨å›¾åºŠå­˜å‚¨å›¾ç‰‡URL

---

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### è‡ªåŠ¨å¤‡ä»½è„šæœ¬

åˆ›å»º `backup.sh`ï¼ˆLinux/Macï¼‰ï¼š
```bash
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
cp caipu-data.json backups/caipu-data-$DATE.json
git add caipu-data.json
git commit -m "è‡ªåŠ¨å¤‡ä»½ - $DATE"
git push
```

åˆ›å»º `backup.bat`ï¼ˆWindowsï¼‰ï¼š
```batch
@echo off
set DATE=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%
copy caipu-data.json backups\caipu-data-%DATE%.json
git add caipu-data.json
git commit -m "è‡ªåŠ¨å¤‡ä»½ - %DATE%"
git push
```

### GitHub Actions è‡ªåŠ¨åŒæ­¥

åˆ›å»º `.github/workflows/sync-data.yml`ï¼š
```yaml
name: Sync Data
on:
  push:
    paths:
      - 'caipu-data.json'
jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Backup data
        run: |
          mkdir -p backups
          cp caipu-data.json backups/caipu-data-$(date +%Y%m%d).json
      - name: Commit backup
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add backups/
          git commit -m "Auto backup $(date +%Y-%m-%d)" || echo "No changes"
          git push
```

---

## ğŸ“‹ æ•°æ®ç®¡ç†æœ€ä½³å®è·µ

### 1. å®šæœŸå¤‡ä»½
- âœ… æ¯å‘¨å¯¼å‡ºä¸€æ¬¡æ•°æ®
- âœ… é‡è¦æ›´æ–°åç«‹å³å¤‡ä»½
- âœ… ä¿ç•™å¤šä¸ªç‰ˆæœ¬ï¼ˆæŒ‰æ—¥æœŸå‘½åï¼‰

### 2. ç‰ˆæœ¬æ§åˆ¶
```bash
# ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
git commit -m "æ·»åŠ èœå“ï¼šç³–é†‹é‡Œè„Šã€çº¢çƒ§è‚‰"
git commit -m "æ›´æ–°è®¢å•ï¼šå®Œæˆæœ¬å‘¨è®¢å•"
git commit -m "å¿ƒæ„¿å¢™ï¼šæ·»åŠ æƒ³å­¦çš„æ–°èœ"
```

### 3. åˆ†æ”¯ç®¡ç†
```bash
# ä¸ºå¤§çš„æ›´æ–°åˆ›å»ºåˆ†æ”¯
git checkout -b update-menu-2024
# åšæ›´æ”¹
git add caipu-data.json
git commit -m "2024å¹´èœå•æ›´æ–°"
git push -u origin update-menu-2024
# åˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout main
git merge update-menu-2024
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯1ï¼šæ¢æ–°æ‰‹æœº
```
æ—§æ‰‹æœºï¼š
1. æ‰“å¼€åº”ç”¨
2. å¯¼å‡ºæ•°æ®
3. é€šè¿‡å¾®ä¿¡/é‚®ä»¶å‘é€ç»™è‡ªå·±

æ–°æ‰‹æœºï¼š
1. æ‰“å¼€ GitHub ä»“åº“
2. ä¸‹è½½ caipu-data.json
3. æ‰“å¼€åº”ç”¨
4. å¯¼å…¥æ•°æ®
```

### åœºæ™¯2ï¼šç”µè„‘å’Œæ‰‹æœºåŒæ­¥
```
ç”µè„‘ä¸Šæ·»åŠ èœå“ï¼š
1. æ·»åŠ èœå“
2. å¯¼å‡ºæ•°æ®åˆ°é¡¹ç›®ç›®å½•
3. git push

æ‰‹æœºä¸ŠåŒæ­¥ï¼š
1. git pull
2. å¯¼å…¥ caipu-data.json
```

### åœºæ™¯3ï¼šç¾éš¾æ¢å¤
```
å¦‚æœæµè§ˆå™¨æ•°æ®ä¸¢å¤±ï¼š
1. git pull æœ€æ–°ä»£ç 
2. å¯¼å…¥ caipu-data.json
3. æ‰€æœ‰æ•°æ®æ¢å¤
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šå¯¼å…¥å¤±è´¥
**åŸå› **ï¼šJSON æ ¼å¼é”™è¯¯
**è§£å†³**ï¼š
1. ä½¿ç”¨ JSON éªŒè¯å·¥å…·æ£€æŸ¥æ–‡ä»¶
2. ç¡®ä¿æ–‡ä»¶ç¼–ç ä¸º UTF-8
3. æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

### é—®é¢˜2ï¼šæ•°æ®ä¸¢å¤±
**åŸå› **ï¼šå¯¼å…¥è¦†ç›–äº†æ•°æ®
**è§£å†³**ï¼š
1. ä» Git å†å²æ¢å¤
```bash
git log -- caipu-data.json
git checkout <commit-hash> -- caipu-data.json
```
2. ä»æœ¬åœ°å¤‡ä»½æ¢å¤

### é—®é¢˜3ï¼šæ–‡ä»¶å¤ªå¤§
**åŸå› **ï¼šå›¾ç‰‡å¤ªå¤š
**è§£å†³**ï¼š
1. åˆ é™¤ä¸éœ€è¦çš„èœå“å›¾ç‰‡
2. å‹ç¼©å›¾ç‰‡åå†ä¸Šä¼ 
3. è€ƒè™‘ä½¿ç”¨å›¾åºŠ

---

## ğŸ“š ç›¸å…³èµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [GitHub ä½¿ç”¨æŒ‡å—](https://docs.github.com/)
- [JSON æ ¼å¼è¯´æ˜](https://www.json.org/)

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] æ•°æ®å·²å¯¼å‡ºä¸º JSON æ–‡ä»¶
- [ ] æ–‡ä»¶å·²æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•
- [ ] Git å·²æ·»åŠ å¹¶æäº¤æ–‡ä»¶
- [ ] å·²æ¨é€åˆ° GitHub
- [ ] å…¶ä»–è®¾å¤‡å¯ä»¥æ‹‰å–å¹¶å¯¼å…¥
- [ ] å®šæœŸå¤‡ä»½è®¡åˆ’å·²å»ºç«‹

---

**ç°åœ¨å°±å¼€å§‹ä½¿ç”¨ Git åŒæ­¥ä½ çš„èœå“æ•°æ®å§ï¼** ğŸ‰
